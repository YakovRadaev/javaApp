--
-- PostgreSQL database dump
--

-- Dumped from database version 14.4
-- Dumped by pg_dump version 14.4

-- Started on 2022-12-11 18:27:35

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 210 (class 1259 OID 16774)
-- Name: category; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.category (
    id integer NOT NULL,
    name character varying(255)
);


ALTER TABLE public.category OWNER TO postgres;

--
-- TOC entry 209 (class 1259 OID 16773)
-- Name: category_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.category ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.category_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 212 (class 1259 OID 16780)
-- Name: image; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.image (
    id integer NOT NULL,
    file_name character varying(255),
    product_id integer NOT NULL
);


ALTER TABLE public.image OWNER TO postgres;

--
-- TOC entry 211 (class 1259 OID 16779)
-- Name: image_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.image ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.image_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 214 (class 1259 OID 16786)
-- Name: orders; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.orders (
    id integer NOT NULL,
    count integer NOT NULL,
    date_time timestamp without time zone,
    number character varying(255),
    price real NOT NULL,
    status integer,
    person_id integer NOT NULL,
    product_id integer NOT NULL
);


ALTER TABLE public.orders OWNER TO postgres;

--
-- TOC entry 213 (class 1259 OID 16785)
-- Name: orders_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.orders ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.orders_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 216 (class 1259 OID 16792)
-- Name: person; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.person (
    id integer NOT NULL,
    login character varying(100),
    password character varying(255),
    role character varying(255)
);


ALTER TABLE public.person OWNER TO postgres;

--
-- TOC entry 215 (class 1259 OID 16791)
-- Name: person_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.person ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.person_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 218 (class 1259 OID 16800)
-- Name: product; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.product (
    id integer NOT NULL,
    date_time timestamp without time zone,
    description text NOT NULL,
    price real NOT NULL,
    seller text NOT NULL,
    title text NOT NULL,
    warehouse character varying(255) NOT NULL,
    category_id integer NOT NULL,
    CONSTRAINT product_price_check CHECK ((price >= (1)::double precision))
);


ALTER TABLE public.product OWNER TO postgres;

--
-- TOC entry 220 (class 1259 OID 16809)
-- Name: product_cart; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.product_cart (
    id integer NOT NULL,
    person_id integer,
    product_id integer
);


ALTER TABLE public.product_cart OWNER TO postgres;

--
-- TOC entry 219 (class 1259 OID 16808)
-- Name: product_cart_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.product_cart ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.product_cart_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 217 (class 1259 OID 16799)
-- Name: product_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.product ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.product_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 3350 (class 0 OID 16774)
-- Dependencies: 210
-- Data for Name: category; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.category (id, name) FROM stdin;
1	SSD
2	CPU
3	HDD
4	Без категории
\.


--
-- TOC entry 3352 (class 0 OID 16780)
-- Dependencies: 212
-- Data for Name: image; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.image (id, file_name, product_id) FROM stdin;
1	0e8d90f2-d6a4-40f8-8de8-9ead4a31a716.1.jpg	1
2	cbfe0808-48f9-413c-9136-70f2f39b2336.2.jpg	1
3	7bad3cae-04e8-4fc6-8e72-0bcf23864d28.3.jpg	1
4	d6c3b5de-baac-4cff-b36c-3e3c25d4d182.4.jpg	1
5	c8202126-c9a7-426f-a5ed-0d05f4e69f30.5.jpg	1
6	315b1eeb-68ce-4ac8-901e-291284e4a7d7.3.jpg	2
7	546ff379-7745-4e08-9c39-eee157f30777.1.jpg	2
8	89d9d6d4-3202-4be5-83ed-aae80eb1a6cc.2.jpg	2
9	15065152-02bd-48dd-8741-31810f99d63b.4.jpg	2
10	9952d229-00f1-4fd9-96d5-83661aef25de.5.jpg	2
11	af75cfe3-87b8-4ea7-b814-4b0f18e2b1c9.1.jpg	3
12	1cf87333-4e32-4405-9bbf-b4a531bb37fa.2.jpg	3
13	19ae87ec-946a-473e-b874-a6abec6aeabb.3.jpg	3
14	492e5749-406d-4fb9-a3a8-f5c95d6b76f2.4.jpg	3
15	b63337cf-7097-4be1-8937-59ee166c327b.5.jpg	3
16	5bea0521-21f7-442f-9902-9a1f5f2eb170.1.jpg	4
17	55037dc2-4437-4bb3-98ed-7ca308c6a9df.2.jpg	4
18	a539ed3a-9854-4f2b-865a-5936ae4e6adc.3.jpg	4
19	0868138d-c1d2-4a77-a430-55312ed05fe1.3.jpg	4
20	5df66416-f183-4591-bd74-baf7d51c1189.3.jpg	4
21	0ed52fa5-2bca-46fe-a273-cdd2944d04f1.1.jpg	5
22	b45c3942-2cdb-453e-9224-6080ffbcbfb2.2.jpg	5
23	891ea2be-52d0-4653-81de-48a6b2d90854.3.jpg	5
24	4d940e47-da8d-4404-85a0-2bdfa40674e3.3.jpg	5
25	43cc7f76-e404-4303-bb68-0f425f9d7909.3.jpg	5
26	02c8a2aa-e8fc-48ba-9e3c-e5b122884002.1.jpg	6
27	2a109204-6441-4f4c-ab12-8441c5cd1496.2.jpg	6
28	fa020f9e-54c8-4be5-a4e6-4dfa2b88d0e3.3.jpg	6
29	38125e9d-9234-46fc-a536-233e34c49ec5.4.jpg	6
30	0a5b96a2-7ff4-4068-99e5-fae8c12d0359.5.jpg	6
\.


--
-- TOC entry 3354 (class 0 OID 16786)
-- Dependencies: 214
-- Data for Name: orders; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.orders (id, count, date_time, number, price, status, person_id, product_id) FROM stdin;
\.


--
-- TOC entry 3356 (class 0 OID 16792)
-- Dependencies: 216
-- Data for Name: person; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.person (id, login, password, role) FROM stdin;
2	myuser	$2a$10$GL6EmZ9ZDX8Zyi0GXgcA0uI45o6WZytFVLpXrNNj2L2aCndAnXpJq	ROLE_USER
1	admin	$2a$10$rfKAgr/VuMVNWO2GcRCra.kdb8CYwCW3sLeJW8yfSA9JRkMbXxGXS	ROLE_ADMIN
\.


--
-- TOC entry 3358 (class 0 OID 16800)
-- Dependencies: 218
-- Data for Name: product; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.product (id, date_time, description, price, seller, title, warehouse, category_id) FROM stdin;
1	2022-12-04 13:33:37.541711	назначение: для ноутбука и настольного компьютера, форм-фактор: M.2 2280, подключение: PCI-E 3.0 x4, скорость записи/скорость чтения: 2100/3100 МБ/с, тип флэш-памяти: QLC 3D NAND, объем: 1 ТБ	7999	Система	Накопитель SSD Netac 1Tb NV3000 NT01NV3000-1T0-E4X	м. Новочеркасская	1
2	2022-12-04 13:37:17.500682	назначение: для ноутбука и настольного компьютера, форм-фактор: M.2 2280, подключение: PCI-E 4.0 x4, скорость записи/скорость чтения: 4400/5000 МБ/с, скорость случайной записи: 600000 IOPS, буфер: 2 Гб DDR4, тип флэш-памяти: TLC 3D NAND, объем: 2 ТБ	15499	Система	Накопитель SSD MSI 2Tb SPATIUM M470 PCIe 4.0 NVMe M.2	м. Новочеркасская	1
3	2022-12-04 13:55:19.447193	назначение: для ноутбука и настольного компьютера, форм-фактор: 2.5", подключение: SATA 6 Гбит/с, скорость записи/скорость чтения: 500/540 МБ/с, тип флэш-памяти: TLC 3D NAND, объем: 480 ГБ	3899	Система	Накопитель SSD Crucial 480Gb BX500 CT480BX500SSD1	м. Ломоносовская	1
4	2022-12-04 14:06:42.336479	для ноутбука и настольного компьютера, 2.5", SATA 6Gb/s, 500 Гб, буфер 128 Мб, скорость вращения 5400 rpm	3157	Система	Жесткий диск Seagate SATA-III 500Gb ST500LM030 Barracuda (5400rpm) 128Mb 2.5"	м. Ломоносовская	3
5	2022-12-04 14:12:51.137411	частота: 3600 МГц (5000 МГц Boost), кол-во ядер: 16, кол-во потоков: 24, сокет: LGA1700, ядро: Alder Lake, техпроцесс: 10 нм, графическое ядро: UHD Graphics 770, 1550 МГц, макс. объем памяти: 128 Гб, тип памяти: DDR4-3200/DDR5-4800, объем кэша L2: 14 МБ, объем кэша L3: 30 МБ, тепловыделение: 241 Вт	56699	Система	Процессор Intel Core i9-12900K 3.2GHz s1700 OEM	м. Новочеркасская	2
6	2022-12-04 14:19:18.461675	частота: 3900 МГц (4400 МГц Boost), кол-во ядер: 6, сокет: AM4, ядро: Vermeer, техпроцесс: 7 нм, графическое ядро: Radeon Graphics, 1900 МГц, макс. объем памяти: 128 Гб, тип памяти: DDR4-3200, объем кэша L2: 3 МБ, объем кэша L3: 16 МБ, тепловыделение: 65 Вт	19799	Система	Процессор AMD Ryzen 5 5600G 3.9GHz sAM4 Box	м. Новочеркасская	2
\.


--
-- TOC entry 3360 (class 0 OID 16809)
-- Dependencies: 220
-- Data for Name: product_cart; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.product_cart (id, person_id, product_id) FROM stdin;
\.


--
-- TOC entry 3366 (class 0 OID 0)
-- Dependencies: 209
-- Name: category_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.category_id_seq', 4, true);


--
-- TOC entry 3367 (class 0 OID 0)
-- Dependencies: 211
-- Name: image_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.image_id_seq', 30, true);


--
-- TOC entry 3368 (class 0 OID 0)
-- Dependencies: 213
-- Name: orders_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.orders_id_seq', 1, false);


--
-- TOC entry 3369 (class 0 OID 0)
-- Dependencies: 215
-- Name: person_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.person_id_seq', 2, true);


--
-- TOC entry 3370 (class 0 OID 0)
-- Dependencies: 219
-- Name: product_cart_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.product_cart_id_seq', 1, false);


--
-- TOC entry 3371 (class 0 OID 0)
-- Dependencies: 217
-- Name: product_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.product_id_seq', 6, true);


--
-- TOC entry 3191 (class 2606 OID 16778)
-- Name: category category_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.category
    ADD CONSTRAINT category_pkey PRIMARY KEY (id);


--
-- TOC entry 3193 (class 2606 OID 16784)
-- Name: image image_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.image
    ADD CONSTRAINT image_pkey PRIMARY KEY (id);


--
-- TOC entry 3195 (class 2606 OID 16790)
-- Name: orders orders_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orders
    ADD CONSTRAINT orders_pkey PRIMARY KEY (id);


--
-- TOC entry 3197 (class 2606 OID 16798)
-- Name: person person_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.person
    ADD CONSTRAINT person_pkey PRIMARY KEY (id);


--
-- TOC entry 3203 (class 2606 OID 16813)
-- Name: product_cart product_cart_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product_cart
    ADD CONSTRAINT product_cart_pkey PRIMARY KEY (id);


--
-- TOC entry 3199 (class 2606 OID 16807)
-- Name: product product_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product
    ADD CONSTRAINT product_pkey PRIMARY KEY (id);


--
-- TOC entry 3201 (class 2606 OID 16815)
-- Name: product uk_qka6vxqdy1dprtqnx9trdd47c; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product
    ADD CONSTRAINT uk_qka6vxqdy1dprtqnx9trdd47c UNIQUE (title);


--
-- TOC entry 3205 (class 2606 OID 16821)
-- Name: orders fk1b0m4muwx1t377w9if3w6wwqn; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orders
    ADD CONSTRAINT fk1b0m4muwx1t377w9if3w6wwqn FOREIGN KEY (person_id) REFERENCES public.person(id);


--
-- TOC entry 3207 (class 2606 OID 16831)
-- Name: product fk1mtsbur82frn64de7balymq9s; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product
    ADD CONSTRAINT fk1mtsbur82frn64de7balymq9s FOREIGN KEY (category_id) REFERENCES public.category(id);


--
-- TOC entry 3206 (class 2606 OID 16826)
-- Name: orders fk787ibr3guwp6xobrpbofnv7le; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orders
    ADD CONSTRAINT fk787ibr3guwp6xobrpbofnv7le FOREIGN KEY (product_id) REFERENCES public.product(id);


--
-- TOC entry 3204 (class 2606 OID 16816)
-- Name: image fkgpextbyee3uk9u6o2381m7ft1; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.image
    ADD CONSTRAINT fkgpextbyee3uk9u6o2381m7ft1 FOREIGN KEY (product_id) REFERENCES public.product(id);


--
-- TOC entry 3209 (class 2606 OID 16841)
-- Name: product_cart fkhpnrxdy3jhujameyod08ilvvw; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product_cart
    ADD CONSTRAINT fkhpnrxdy3jhujameyod08ilvvw FOREIGN KEY (product_id) REFERENCES public.product(id);


--
-- TOC entry 3208 (class 2606 OID 16836)
-- Name: product_cart fksgnkc1ko2i1o9yr2p63ysq3rn; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product_cart
    ADD CONSTRAINT fksgnkc1ko2i1o9yr2p63ysq3rn FOREIGN KEY (person_id) REFERENCES public.person(id);


-- Completed on 2022-12-11 18:27:35

--
-- PostgreSQL database dump complete
--

